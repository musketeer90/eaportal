<html>
  <head>
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">
      google.load("visualization", "1", {packages:["treemap"]});
      google.setOnLoadCallback(drawChart);
      
	  function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Anbieter'                                      , 'Parent', 'Size', 'Color'],
          ['Ecosystem der Produkte und Services von DeMail',    null,                      0,                             0],
          ['Anbieter1'    , 'Ecosystem der Produkte und Services von DeMail',              0,                             0],
          ['Anbieter2'    , 'Ecosystem der Produkte und Services von DeMail',              0,                             0],
          ['Anbieter3'    , 'Ecosystem der Produkte und Services von DeMail',             25,                            25],
          ['Anbieter4'    , 'Ecosystem der Produkte und Services von DeMail',             10,                            10],
          ['Anbieter5'    , 'Ecosystem der Produkte und Services von DeMail',             15,                            15],
          ['Produkte (A1)',  'Anbieter1',      											   0,                             0], 
          ['Services (A1)',  'Anbieter1',         25,                              25],
          ['Produkte (A2)',  'Anbieter2',         25,                              25],
          ['Services (A2)',  'Anbieter2',         25,                              25],
          ['Produkt1'     ,  'Produkte (A1)',     40,                              40], 
          ['Produkt2'     ,  'Produkte (A1)',     20,                              20],
          ['Produkt3'     ,  'Produkte (A1)',     15,                              15],
          ['Produkt4'     ,  'Produkte (A1)',     25,                              25]
        ]);
		
		
        tree = new google.visualization.TreeMap(document.getElementById('chart_div'));
		
		var options = {
        highlightOnMouseOver: true,
        maxDepth: 1, /*3 Man sieht in die Unterkategorien hinein*/
        maxPostDepth: 0, /*Farbliche Unterteilung der Kacheln... -> unübersichtlich*/
		hintOpacity: 1,
        minHighlightColor: '#8c6bb1',
        midHighlightColor: '#9ebcda',
        maxHighlightColor: '#edf8fb',
        minColor: '#FF0000',
        midColor: '#FFFF00',
        maxColor: '#00FF00',
        headerHeight: 30,
        showScale: true,
        height: 500,
        useWeightedAverageForAggregation: true,
		generateTooltip: showStaticTooltip
      };
	  
	  function showStaticTooltip(row, size, value) {
			return '<div style="background:#fd9; padding:10px; border-style:solid">' +
           'Informationen <a href="produktdatenblatt.jpg">hier</a> öffnen.</div>';
		}
	  
	  tree.draw(data, options);


      }
    </script>
  </head>

  <body>
  <h1> TreeMap </h1>
    <div id="chart_div" style="width: 900px; height: 500px;"></div>
	
  <p>
  <h2>Legende:</h2>
  <h3>Parameter, die die Darstellung beinflussen:</h3>
  <ul>
	<li>Größe (wird von der granularsten Ebene hochgerechnet und auf der untersten Ebene in Prozent angegeben werden; Prozentzahl muss über die Summe aller Werte gebildet werden)</li>
    <li>Farbe (wird von der granularsten Ebene hochgerechnet und auf der untersten Ebene in Prozent angegeben werden; Prozentzahl muss über die Summe aller Werte gebildet werden)</li>
    <li>Ebenen</li>
  </ul>
  <h3>Vorschläge:</h3>
  <ol>
    <li>Ebene: Anbieter: [Size] Anzahl Kunden (Min. 10) [Color] Auch Anzahl Kunden</li>
    <li>Ebene: Produkt, Service... [Size] Identisch [Color] Auch Anzahl Kunden</li>
    <li>Ebene: z.B.: Produkt 1,2,...,n :  [Size] Anzahl Kunden [Color] Auch Anzahl Kunden</li>
  </ol>
  </p><p>
  <h2>Variationen der Darstellung:</h2>
  <ul>
     <li>Pro Anbieter eine TreeMap in kleinerer Darstellung nebeneinander gesetzt.
	 <ul>
	    <li>Vorteil: Man sieht auf den ersten Blick alle Anbieter und das Produkt zu Services Mengenverhältnis</li>
		<li>Nachteil: Auf den ersten Blick unübersichtlich da bei vielen Anbietern sehr viele Maps entstehen</li>
	 </ul>
	 </li>
	 <li>Anstatt der Anzahl der Kunden, keine spezielle Kennzahl verwenden.
	 <ul>
	    <li>Vorteil: Man sieht die Anzahl der Produkte bzw. Services pro Anbieter</li>
		<li>Nachteil: Ein kleiner Anbieter mit einer großen Produktreihe würde die gesamte Karte belegen</li>
	 </ul>
	 <li> Schon in der zweiten Ebene Produkte und Services nebeneinander anzeigen
	 <ul>
		<li> Vorteil: Bessere Übersicht </li>
		<li> Nachteil: Mischung aus Produkten und Services ist anspruchsvoller zu verstehen, da es logisch unterschiedliche Angebotskategorien sind</li>
	</ul></li>
  </ul>
  </p>
  
  </body>
</html>